---
layout: post
title: 比特币背后的数学
---

本文翻译自：[The Math Behind Bitcoin](https://www.coindesk.com/math-behind-bitcoin/)

原作者：Eric Rykwalder

比特币让初学者感到困惑的一个原因是它重新定义了“拥有”的意义。

传统意义上的“拥有”，比如拥有房子或者金钱，指的是一个人持有该物品，或者通过银行等公信机构代为持有。

然而比特币在这个问题是不同。比特币本身既不存在于某个中央银行，也不存在于本地，所以没有任何机构持有它。它们的存在，只是作为一条记录，被记录在分布式的账本上，这账本叫做区域链。这个账本被复制成很多的副本，放在每台自愿连接在该网络上的计算机上。所谓的“拥有“一个比特币，其实只是意味着该比特币的所有者有能力在区域链上创建一条”转移记录“，将该比特币的这种控制权交给另一个人。是什么确保了这种能力呢？是通过[ECDSA-椭圆曲线数字签名算法](https://en.wikipedia.org/wiki/Elliptic_Curve_Digital_Signature_Algorithm)的私钥和公钥对。这到底是什么意思呢？它又是如何保证比特币的安全的呢？

让我们来揭开它神秘的面纱。

**ECDSA**是Elliptic Curve Digital Signature Algorithm（椭圆曲线数字签名算法）的缩写。它是一个使用椭圆曲线和有限域对数据进行“签名”的过程，并且该过程能够被第三方监管，即第三方有方式可以确认签名者是唯一可以对该数据签名的人。在比特币中，这里的数据的签名就是转移所有权的操作。

ECDSA中签名和确认签名是两个不同的过程。每个过程都是一系列由算数运算组成的算法。签名算法使用私钥，确认签名使用公钥。我们会在之后的例子中进行阐述。

不过首先，让我们来快速了解一下椭圆曲线和有限域。

### 椭圆曲线

一个椭圆曲线可以用数学公式表示为：

$$
y^2 = x^3 + ax + b
$$

对于 a = 0 和 b = 7（比特币使用的参数），它的图像如下图所示：

![](https://media.coindesk.com/uploads/2014/10/elliptic-curves.png)

椭圆曲线有一些有用的性质。比如，一条不垂直于坐标轴的直线若与椭圆曲线相交于两点且不是切点，则该直线与椭圆曲线存在第三个交点。再比如，若一条不垂直于坐标轴的直线与椭圆曲线在一点相切，则必相交于另一点。

**Point addition (点加)**，P + Q = R，定义了“过P与Q的直线，交椭圆曲线于第三点R'，R是R'经X轴的镜像点”。用下图比较好理解:

![](https://media.coindesk.com/uploads/2014/10/point-addition.png)

相应的，**point doubling (倍点)**, P + P = R，表示寻找一条直线与椭圆曲线相切于点P，再交于点R'，R'再经X轴对称而得到镜像点R。如下图所示:

![](https://media.coindesk.com/uploads/2014/10/point-doubling.png)

以上两个操作被用来做***scalar multiplication*** (标量乘法)，R = a P， 表示将点P与自己相加a次。例如：

$$
	\begin{align\*}
	R = 7P \\\\
	R = P + (P + (P + (P + (P + (P + P)))))
	\end{align\*}
$$

这个标量相乘的过程可以使用点加和倍点操作来进行简化，如：

$$
	\begin{align\*}
	R = 7P \\\\
	R = P + 6P \\\\
	R = P + 2(3P) \\\\
	R = P + 2(P + 2P)
	\end{align\*}
$$

这里，7P就被分成了两个倍点操作和两个点加操作。


### 有限域

